#!/usr/bin/env python3
import requests, time, re
FLAG = r'[a-zA-Z0-9]{31}='
HOST = 'http://10.10.0.1'
TEAM_TOKEN = ""
PORT = -1
NTEAMS = 80

def get_flagids(service: str, team: str):
    url = f'{HOST}:8081/flagIds?service={service}&team={team}'
    r = requests.get(url)
    return r.json()

def exploit():
    while True:
        flags = []
        
        for i in range(NTEAMS):
            host = f'http://10.60.{i}.1:{PORT}/' # change location
            # write your exploit here

        
        print(requests.put(f'{HOST}:8080/flags', headers={
            'X-Team-Token': TEAM_TOKEN
        }, json=flags).text)
        time.sleep(30)

if __name__ == '__main__':
    assert TEAM_TOKEN != "", "TEAM_TOKEN not set"
    assert PORT != -1, "PORT not set"
    exploit()